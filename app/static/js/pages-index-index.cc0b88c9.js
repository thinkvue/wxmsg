(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-index"],{"1d0b":function(t,e,i){"use strict";i.r(e);var a=i("34af"),n=i.n(a);for(var s in a)"default"!==s&&function(t){i.d(e,t,(function(){return a[t]}))}(s);e["default"]=n.a},"34af":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={data:function(){return{data:[],modalShow:!1,remark:""}},onLoad:function(t){var e=this;if(this.$store.commit("setWechatId",t.wechat_id),!this.$store.getters.hasLogin){var i=uni.getStorageSync("rememberKey");if(i){var a={rememberKey:i};this.$http.request("/api/info/relogin",a,"POST").then((function(t){e.$store.commit("login",t.data)}),(function(t){e.$store.commit("logout"),e.$http.toLoginPage()}))}else this.$http.toLoginPage()}this.listToken()},methods:{hideModal:function(){this.modalShow=!1,this.remark=""},commintAdd:function(){this.modalShow=!1,this.remark?(this.listToken(this.remark),this.remark=""):_g.showToast("Token备注不能为空")},copyvalue:function(t){console.log("复制"),uni.setClipboardData({data:t,success:function(){console.log("success"),_g.showToast("复制成功，请直接粘贴！")},fail:function(){_g.showToast("没有权限，无法复制到剪贴板，请手动复制")}})},listToken:function(t,e){var i=this,a="/api/token/list",n={wechat_id:this.$store.getters.getWechatId},s="";t?(a="/api/token/add",n={wechat_id:this.$store.getters.getWechatId,remark:t},s="添加token成功"):e&&(a="/api/token/delete",n={wechat_id:this.$store.getters.getWechatId,id:e},s="删除token成功"),this.$http.request(a,n,"POST").then((function(t){i.data=t.data.token,s&&_g.showToast(s)}),(function(t){t.data.code?_g.showToast(t.data.error):_g.showToast("请求失败，请咨询客服")}))}}};e.default=a},"617f":function(t,e,i){"use strict";var a=i("c367"),n=i.n(a);n.a},"6e60":function(t,e,i){"use strict";i.r(e);var a=i("92c2"),n=i("1d0b");for(var s in n)"default"!==s&&function(t){i.d(e,t,(function(){return n[t]}))}(s);i("617f");var o,c=i("f0c5"),r=Object(c["a"])(n["default"],a["b"],a["c"],!1,null,"104fd66c",null,!1,a["a"],o);e["default"]=r.exports},"92c2":function(t,e,i){"use strict";var a,n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("v-uni-view",{staticClass:"cu-bar bg-cyan"},[i("v-uni-view",{staticClass:"content text-bold"},[t._v("ThinkVue微信消息")])],1),i("v-uni-view",{staticClass:"container"},[t._l(t.data,(function(e){return[i("v-uni-view",{key:e.id+"_0",staticClass:"padding-sm radius shadow bg-gradual-pink  margin-top shadow shadow-lg"},[i("v-uni-view",{staticClass:" cuIcon-keyboard flex flex-wrap"},[i("v-uni-view",{staticClass:"text-white text-df text-bold text-center margin-left",attrs:{selectable:"true"}},[t._v(t._s(e.token))])],1),i("v-uni-view",{staticClass:"flex justify-between margin-top"},[i("v-uni-view",{staticClass:"token_des text-white"},[i("v-uni-view",{staticClass:"cuIcon-comment flex flex-wrap"},[i("v-uni-view",{staticClass:"token_remark margin-left"},[t._v(t._s(e.remark))])],1),i("v-uni-view",{staticClass:"cuIcon-time flex flex-wrap"},[i("v-uni-view",{staticClass:"token_create_time margin-left"},[t._v(t._s(e.create_time))])],1)],1),i("v-uni-view",{staticClass:"flex"},[i("v-uni-button",{staticClass:"cu-btn round bg-green padding-sm",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.copyvalue(e.token)}}},[t._v("复制")]),i("v-uni-button",{staticClass:"cu-btn round bg-red padding-sm margin-left",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.listToken("",e.id)}}},[t._v("删除")])],1)],1)],1)]})),0==t.data.length?i("v-uni-view",{staticClass:"padding-sm radius shadow bg-gradual-pink margin-top shadow shadow-lg"},[i("v-uni-view",{staticClass:"cuIcon-keyboard flex flex-wrap"},[i("v-uni-view",{staticClass:"text-white text-df text-bold margin-left",attrs:{selectable:"true"}},[t._v("没有数据，请点击下方按钮添加")])],1)],1):t._e(),i("v-uni-view",{staticClass:"flex flex-direction margin-top"},[i("v-uni-button",{staticClass:"margin-top cu-btn round bg-blue shadow shadow-lg",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.modalShow=!0}}},[t._v("添加token")])],1),i("v-uni-view",{staticClass:"cu-modal",class:t.modalShow?"show":""},[i("v-uni-view",{staticClass:"cu-dialog"},[i("v-uni-view",{staticClass:"cu-bar bg-white justify-end"},[i("v-uni-view",{staticClass:"content"},[t._v("Token备注")]),i("v-uni-view",{staticClass:"action",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.hideModal.apply(void 0,arguments)}}},[i("v-uni-text",{staticClass:"cuIcon-close text-red"})],1)],1),i("v-uni-view",{staticClass:"padding-xl"},[i("v-uni-input",{attrs:{type:"text",placeholder:"请输入便于记住用途的关键字"},model:{value:t.remark,callback:function(e){t.remark=e},expression:"remark"}})],1),i("v-uni-view",{staticClass:"cu-bar bg-white justify-end"},[i("v-uni-view",{staticClass:"action"},[i("v-uni-button",{staticClass:"cu-btn line-green text-green",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.hideModal.apply(void 0,arguments)}}},[t._v("取消")]),i("v-uni-button",{staticClass:"cu-btn bg-green margin-left",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.commintAdd.apply(void 0,arguments)}}},[t._v("确定")])],1)],1)],1)],1)],2)],1)},s=[];i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return s})),i.d(e,"a",(function(){return a}))},c026:function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,".container[data-v-104fd66c]{padding:20px;font-size:14px;line-height:24px}.margin-left[data-v-104fd66c]{margin-left:%?15?%}",""]),t.exports=e},c367:function(t,e,i){var a=i("c026");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("3313c3da",a,!0,{sourceMap:!1,shadowMode:!1})}}]);